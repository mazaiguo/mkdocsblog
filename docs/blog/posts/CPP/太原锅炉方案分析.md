---
title: 太原锅炉方案分析
date: 2025-07-18
categories:
  - 项目方案
tags:
  - CPP
description: 太原锅炉项目中AutoCAD图纸处理的两种技术方案分析，包括块操作和自定义属性方案
authors:
  - JerryMa
---

# 太原锅炉方案分析

### 方案一

#### 先将所有零部件做成块

* 所有的块需要遵循一个原则；要么所有图块的插入的基点在左边，要么基点在右边，建议统一个标准
* 所有的块名定义按照**块名+视图**来命名
* 如果有多个同名的块名，形状在2d上略有不同，那么块名---->**块名[编号]+视图**来命名
* 件号需要重新插入，插入的时候选择零部件进行关联
* 定型尺寸需要重新绘制在零部件的外框尺寸上

#### 其它说明

![](https://raw.githubusercontent.com/mazaiguo/blogimg/main/20230905-20230905141910.png)

> [!WARNING]
>
> **由于存在块的尺寸与真实尺寸不一样的情况，这样定位尺寸和定型尺寸都不对**；
>
> * 需要保证尺寸标注标注在块的外框上
> * 除了在最左侧或最右侧的基准点，如果基准点在中间，需要保证基准点刚好是块的几何中心点



> [!TIP]
>
> * 图纸上的尺寸标注数据基本都能提取出来，但是数据与块之间是没有关联关系的，需要人为去做一些处理告知程序这两者之间是有关联(比如在块上重新绘制标注信息)
> * 做成块是为了让零部件都是个整体，方便重新绘制件号与零部件关联，这样零部件对应的明细表信息就与部件关联起来了

#### 我们能做什么

* 将所有与块关联的尺寸提取出来
* 将所有与块关联的明细表数据提取出来
* 定位尺寸和定型尺寸如果不是真实尺寸，
  * 图纸上需要在块外框上标注尺寸
  * 需要保证基准点在最左端或最右端，或者在图块的中心，不然定位尺寸算不准
* 开目图纸里的标注数据，如果只有一个文字可以将数据提取出来，但是与零部件的关联关系基本上是没有的

#### 我们做不了什么

* 提取的尺寸数据是有限的，如果没有关联关系，我们是无法将数据与图块进行联系
* 开目图纸里除了只有一个文字的标注尺寸，其它的尺寸我们无法提取。文字数据太多也不清楚各个数据之间的关系以及表达方式。
* **图块与图块之间是体现不了装配关系**，所以单纯用图块来描述装配关系是描述不了
* Excel表格大概需要109条数据，我们只能提取明细表的数据以及定位和定型尺寸数据

### 方案二

将所有的零部件做成块，然后为所有的零部件块增加自定义属性，

![avatar](https://raw.githubusercontent.com/mazaiguo/blogimg/main/20230905-Snipaste_2023-09-05_09-35-16.png)

* 每个零部件都增加一些自定义属性，零部件有一部分常规属性从图纸中获取，有一部分手动填写。
* 自定义属性的好处在于，不管是要定型尺寸还是定位尺寸都可以手动填写。
* 如果自动获取的数据不对也可以手动更改，方便随时调整更新
* 不管什么数据都可以定义一个自定义信息
* 不管是定型尺寸、定位尺寸、装配关系等，都可以自定义属性信息手动填写
* 所有的数据都存储在当前dwg中，方便数据的导出



